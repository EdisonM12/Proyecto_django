<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Login y Registro Estudiante</title>
</head>
<body>

<h1>Login Estudiante</h1>
<form method="POST">
    {% csrf_token %}
    <input type="hidden" name="form_type" value="login">

    {% for field in form_login %}
        <div class="mb-3">
            {{ field.label_tag }}
            {{ field }}
            {% if field.errors %}
                <ul style="color:red;">
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    {% endfor %}

    {% if form_login.non_field_errors %}
        <ul style="color:red;">
            {% for error in form_login.non_field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <button type="submit">Ingresar</button>
</form>

<hr>

<h1>Registro Estudiante</h1>
<form method="POST">
    {% csrf_token %}
    <input type="hidden" name="form_type" value="registro">

    {% for field in form_registro %}
        <div class="mb-3">
            {{ field.label_tag }}
            {{ field }}
            {% if field.errors %}
                <ul style="color:red;">
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    {% endfor %}

    {% if form_registro.non_field_errors %}
        <ul style="color:red;">
            {% for error in form_registro.non_field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <button type="submit">Registrarse</button>
</form>

<!-- Mostrar mensajes de Django -->
{% if messages %}
    {% for message in messages %}
        <p style="color: {% if message.tags == 'success' %}green{% else %}red{% endif %};">
            {{ message }}
        </p>
    {% endfor %}
{% endif %}

</body>
</html>
